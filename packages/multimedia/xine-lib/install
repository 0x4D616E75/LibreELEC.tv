#!/bin/sh

. config/options

$SCRIPTS/install zlib
$SCRIPTS/install libiconv
$SCRIPTS/install ffmpeg
$SCRIPTS/install freetype
$SCRIPTS/install libX11
$SCRIPTS/install libXext
$SCRIPTS/install libXvMC
$SCRIPTS/install $MESA
$SCRIPTS/install alsa-lib


PKG_DIR=`find $PACKAGES -type d -name $1`

mkdir -p $INSTALL/usr/lib
  cp -PR $PKG_BUILD/src/xine-engine/.libs/libxine*.so* $INSTALL/usr/lib

mkdir -p $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/audio_dec/.libs/xineplug_decode_a52.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/audio_dec/.libs/xineplug_decode_dvaudio.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/audio_dec/.libs/xineplug_decode_faad.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/audio_dec/.libs/xineplug_decode_gsm610.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/audio_dec/.libs/xineplug_decode_lpcm.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/audio_dec/.libs/xineplug_decode_mad.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/audio_out/.libs/xineplug_ao_out_alsa.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/combined/ffmpeg/.libs/xineplug_decode_ff.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_audio.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_avi.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_fli.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_flv.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_games.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_iff.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_matroska.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_mpeg.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_mpeg_block.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_mpeg_elem.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_mpeg_pes.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_mpeg_ts.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_nsv.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_playlist.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_pva.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_qt.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_rawdv.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_real.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_slave.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_vc1_es.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_yuv4mpeg2.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/demuxers/.libs/xineplug_dmx_yuv_frames.so $INSTALL/usr/lib/xine/plugins/2.0     
  cp $PKG_BUILD/src/input/.libs/xineplug_inp_cdda.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/input/.libs/xineplug_inp_dvd.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/input/.libs/xineplug_inp_file.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/spu_dec/.libs/xineplug_decode_spu.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/spu_dec/.libs/xineplug_decode_spucc.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/spu_dec/.libs/xineplug_decode_spucmml.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/spu_dec/.libs/xineplug_decode_spudvb.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/spu_dec/.libs/xineplug_sputext.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/vdr/.libs/xineplug_vdr.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/video_dec/.libs/xineplug_decode_bitplane.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/video_dec/.libs/xineplug_decode_rgb.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/video_dec/.libs/xineplug_decode_yuv.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/video_dec/libmpeg2/.libs/xineplug_decode_mpeg2.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/video_out/.libs/xineplug_vo_out_opengl.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/video_out/.libs/xineplug_vo_out_xv.so $INSTALL/usr/lib/xine/plugins/2.0
  cp $PKG_BUILD/src/video_out/.libs/xineplug_vo_out_xvmc.so $INSTALL/usr/lib/xine/plugins/2.0

mkdir -p $INSTALL/usr/lib/xine/plugins/2.0/post
  cp $PKG_BUILD/src/post/audio/.libs/xineplug_post_audio_filters.so $INSTALL/usr/lib/xine/plugins/2.0/post
  cp $PKG_BUILD/src/post/planar/.libs/xineplug_post_planar.so $INSTALL/usr/lib/xine/plugins/2.0/post

mkdir -p $INSTALL/etc/xine
  cp $PKG_DIR/config/config $INSTALL/etc/xine
