#!/bin/sh
################################################################################
# Start moovida program.
#
# The moovida program (not the window manager) is the application that runs in the
# foreground because it is the only application that we can be sure will be
# running.
################################################################################

. /etc/sysconfig

args=""

if /usr/bin/test "${MOOVIDA_DEBUG}" = "yes" ; then
    args="${args} MOOVIDA_DEBUG=*:5"
    args="${args} GST_DEBUG_NO_COLOR=1"
    args="${args} GST_DEBUG=*:5"
    args="${args} GST_DEBUG=GST_ELEMENT_FACTORY:3"
    args="${args} -l"
fi

if /usr/bin/test "${MOOVIDA_FULLSCREEN}" = "yes" ; then
    args="${args} -f -n -t"
fi

if /usr/bin/test "${MOOVIDA_DEBUG}" = "yes" ; then
  /usr/bin/elisa ${args} 2> $MOOVIDA_LOGFILE
else
  /usr/bin/elisa ${args} > /dev/null 2>&1
fi
