#!/bin/sh

. config/options

$SCRIPTS/build toolchain
$SCRIPTS/build elisa

. config/options.python

cd $BUILD/$1*

#$PYTHON setup.py build

$PYTHON setup.py install --single-version-externally-managed -O1 --root ./.install --prefix /usr

find .install -name "*.py" -exec rm -rf "{}" ";"
find .install -name "*.pyo" -exec rm -rf "{}" ";"

rm -rf .install/usr/lib/python*/site-packages/elisa/plugins/*/tests

rm -rf .install/usr/lib/python*/site-packages/elisa/plugins/wmd
rm -rf .install/usr/lib/python*/site-packages/elisa_plugin_wmd*

rm -rf .install/usr/lib/python*/site-packages/elisa/plugins/smbwin32
rm -rf .install/usr/lib/python*/site-packages/elisa_plugin_smb_win32*

rm -rf .install/usr/lib/python*/site-packages/elisa/plugins/winremote
rm -rf .install/usr/lib/python*/site-packages/elisa_plugin_winremote*

rm -rf .install/usr/lib/python*/site-packages/elisa/plugins/elisa_updater
rm -rf .install/usr/lib/python*/site-packages/elisa_plugin_elisa_updater*
