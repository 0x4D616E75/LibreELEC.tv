#!/bin/sh

. config/options

$SCRIPTS/install Python
$SCRIPTS/install pygtk
$SCRIPTS/install pygobject
$SCRIPTS/install gstreamer
$SCRIPTS/install gst-plugins-base

PYTHON_LIB_DIR=`ls -d $INSTALL/usr/lib/python*`

mkdir -p $PYTHON_LIB_DIR/site-packages/
cp $BUILD/$1*/pygst.pyc $PYTHON_LIB_DIR/site-packages/
cp $BUILD/$1*/.libs/*.so $PYTHON_LIB_DIR/site-packages/
echo "gst-0.10" >> $PYTHON_LIB_DIR/site-packages/pygst.pth

mkdir -p $PYTHON_LIB_DIR/site-packages/gst-0.10/gst
cp $BUILD/$1*/gst/.libs/*.so $PYTHON_LIB_DIR/site-packages/gst-0.10/gst
cp $BUILD/$1*/gst/*.pyc $PYTHON_LIB_DIR/site-packages/gst-0.10/gst

mkdir -p $PYTHON_LIB_DIR/site-packages/gst-0.10/gst/extend
cp $BUILD/$1*/gst/extend/*.pyc $PYTHON_LIB_DIR/site-packages/gst-0.10/gst/extend

mkdir -p $INSTALL/usr/share/gst-python/0.10/defs
cp $BUILD/$1*/gst/*.defs $INSTALL/usr/share/gst-python/0.10/defs