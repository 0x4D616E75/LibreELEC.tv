From 3fae42dcad347a3a3b6d1a2ed0ba8c0d7f172de0 Mon Sep 17 00:00:00 2001
From: Rainer Hochecker <fernetmenta@online.de>
Date: Wed, 30 Apr 2014 15:29:51 +0200
Subject: [PATCH] paplayer: dvdplayercodec - check if seek is possible before
 trying to seek

---
 xbmc/cores/paplayer/DVDPlayerCodec.cpp | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/xbmc/cores/paplayer/DVDPlayerCodec.cpp b/xbmc/cores/paplayer/DVDPlayerCodec.cpp
index c60abc8..89e9dbe 100644
--- a/xbmc/cores/paplayer/DVDPlayerCodec.cpp
+++ b/xbmc/cores/paplayer/DVDPlayerCodec.cpp
@@ -202,8 +202,11 @@ bool DVDPlayerCodec::Init(const CStdString &strFile, unsigned int filecache)
   }
   else
   {
-    m_pInputStream->Seek(0, SEEK_SET);
-    m_pDemuxer->Reset();
+    if (m_pInputStream->Seek(0, SEEK_POSSIBLE))
+    {
+      m_pInputStream->Seek(0, SEEK_SET);
+      m_pDemuxer->Reset();
+    }
     m_bCanSeek = false;
   }
 
-- 
1.9.1

