# parse command line arguments
  for arg in $(cat /proc/cmdline); do
    case $arg in
      textmode)
        TEXTMODE=yes
        ;;
      debugging)
        DEBUG=yes
        ;;
    esac
  done

# functions
  start_xorg() {
    args="-s 0 -br -noreset -allowMouseOpenFail "

    mkdir -p /var/cache/xkb
    exec /usr/bin/Xorg :0.0 vt01 ${args} > /dev/null 2>&1 &
  }  

  start_splash() {
    while true; do 
      if [ -f /tmp/.X0-lock ]; then
        [ -f "/usr/bin/xsplash" ] && \
        /usr/bin/xsplash -x 1
        break
      fi
    done 
  }

  progress() {
    if test "$DEBUG" = yes; then
      echo "### $1 ###"
    fi
  }

# read config files
  for config in `ls /etc/conf.d/`; do
    . /etc/conf.d/$config
  done
