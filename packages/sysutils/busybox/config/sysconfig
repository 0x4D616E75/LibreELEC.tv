# parse command line arguments
  for arg in $(cat /proc/cmdline); do
    case $arg in
      textmode)
        TEXTMODE=yes
        ;;
      debugging)
        DEBUG=yes
        ;;
    esac
  done

# functions
  progress() {
    if test "$DEBUG" = yes; then
      echo "### $1 ###"
    fi
  }

  wait_for_network () {
    while [ ! -f /var/run/connman/udhcpc.*.pid ]; do
      true
    done
  }

  start_splash() {
    while true; do 
      if [ -f /tmp/.X0-lock ]; then
        [ -f "/usr/bin/xsplash" ] && \
        /usr/bin/xsplash -x 1
        break
      fi
    done 
  }

# read config files
  for config in `ls /etc/conf.d/`; do
    . /etc/conf.d/$config
  done
