#!/bin/sh

. config/options

$SCRIPTS/build toolchain
$SCRIPTS/build Mesa
$SCRIPTS/build pango
$SCRIPTS/build cairo
$SCRIPTS/build gstreamer
$SCRIPTS/build gst-plugins-base
$SCRIPTS/build libX11
#$SCRIPTS/build libXcomposite
$SCRIPTS/build glib
$SCRIPTS/build gtk+

cd $BUILD/$1*
./configure --host=$TARGET_NAME \
            --build=$HOST_NAME \
            --prefix=/usr \
            --sysconfdir=/etc \
            --disable-static \
            --enable-shared \
            --disable-gtk-doc \
            --disable-examples \
            --with-imagebackend=gdk-pixbuf \
            --with-flavour=glx \
            --with-x

make

$STRIP pgm/.libs/libpigment*.so*
$STRIP pgm/gtk/.libs/libpigment-gtk*.so*
$STRIP plugins/*/.libs/libpgm*.so

$MAKEINSTALL
