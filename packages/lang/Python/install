#!/bin/sh

. config/options

PYTHON_VERSION=2.6
PYTHON_LIB_DIR=$INSTALL/usr/lib/python$PYTHON_VERSION

mkdir -p $INSTALL/usr/bin
cp $BUILD/$1*/python $INSTALL/usr/bin/
$STRIP $INSTALL/usr/bin/python

#mkdir -p $INSTALL/usr/lib
#cp $BUILD/$1*/libpython*.so* $INSTALL/usr/lib/

mkdir -p $PYTHON_LIB_DIR/lib-dynload
cp $BUILD/$1*/build/lib*/*.so $PYTHON_LIB_DIR/lib-dynload

cp $BUILD/$1*/Lib/*.pyc $PYTHON_LIB_DIR
cp $BUILD/$1*/Lib/site.py $PYTHON_LIB_DIR
cp $BUILD/$1*/Lib/doctest.py $PYTHON_LIB_DIR
cp $BUILD/$1*/Lib/unittest.py $PYTHON_LIB_DIR

mkdir -p $PYTHON_LIB_DIR/plat-linux2
cp $BUILD/$1*/Lib/plat-linux2/* $PYTHON_LIB_DIR/plat-linux2

mkdir -p $PYTHON_LIB_DIR/json
cp $BUILD/$1*/Lib/json/*.pyc $PYTHON_LIB_DIR/json

mkdir -p $PYTHON_LIB_DIR/xml
cp $BUILD/$1*/Lib/xml/*.pyc $PYTHON_LIB_DIR/xml
mkdir -p $PYTHON_LIB_DIR/xml/dom
cp $BUILD/$1*/Lib/xml/dom/*.pyc $PYTHON_LIB_DIR/xml/dom
mkdir -p $PYTHON_LIB_DIR/xml/parsers
cp $BUILD/$1*/Lib/xml/parsers/*.pyc $PYTHON_LIB_DIR/xml/parsers
mkdir -p $PYTHON_LIB_DIR/xml/sax
cp $BUILD/$1*/Lib/xml/sax/*.pyc $PYTHON_LIB_DIR/xml/sax

mkdir -p $PYTHON_LIB_DIR/encodings
cp $BUILD/$1*/Lib/encodings/*.pyc $PYTHON_LIB_DIR/encodings

mkdir -p $PYTHON_LIB_DIR/logging
cp $BUILD/$1*/Lib/logging/*.pyc $PYTHON_LIB_DIR/logging

mkdir -p $PYTHON_LIB_DIR/distutils
cp $BUILD/$1*/Lib/distutils/*.pyc $PYTHON_LIB_DIR/distutils

mkdir -p $PYTHON_LIB_DIR/distutils/command
cp $BUILD/$1*/Lib/distutils/command/*.pyc $PYTHON_LIB_DIR/distutils/command

# For future 3rd-parties Python modules
mkdir -p $PYTHON_LIB_DIR/site-packages


### for test ###

#mkdir -p $PYTHON_LIB_DIR/bsddb
#cp $BUILD/$1*/Lib/bsddb/*.pyc $PYTHON_LIB_DIR/bsddb

mkdir -p $PYTHON_LIB_DIR/compiler
cp $BUILD/$1*/Lib/compiler/*.pyc $PYTHON_LIB_DIR/compiler

mkdir -p $PYTHON_LIB_DIR/ctypes
cp $BUILD/$1*/Lib/ctypes/*.pyc $PYTHON_LIB_DIR/ctypes

mkdir -p $PYTHON_LIB_DIR/ctypes/macholib
cp $BUILD/$1*/Lib/ctypes/macholib/*.pyc $PYTHON_LIB_DIR/ctypes/macholib

#mkdir -p $PYTHON_LIB_DIR/curses
#cp $BUILD/$1*/Lib/curses/*.pyc $PYTHON_LIB_DIR/curses

#mkdir -p $PYTHON_LIB_DIR/email
#cp $BUILD/$1*/Lib/email/*.pyc $PYTHON_LIB_DIR/email

#mkdir -p $PYTHON_LIB_DIR/email/mime
#cp $BUILD/$1*/Lib/email/mime/*.pyc $PYTHON_LIB_DIR/email/mime

mkdir -p $PYTHON_LIB_DIR/hotshot
cp $BUILD/$1*/Lib/hotshot/*.pyc $PYTHON_LIB_DIR/hotshot

mkdir -p $PYTHON_LIB_DIR/idlelib
cp $BUILD/$1*/Lib/idlelib/*.pyc $PYTHON_LIB_DIR/idlelib

#mkdir -p $PYTHON_LIB_DIR/lib-tk
#cp $BUILD/$1*/Lib/lib-tk/*.pyc $PYTHON_LIB_DIR/lib-tk

#mkdir -p $PYTHON_LIB_DIR/msilib
#cp $BUILD/$1*/Lib/msilib/*.pyc $PYTHON_LIB_DIR/msilib

# not needed, we have pysqlite2
#mkdir -p $PYTHON_LIB_DIR/sqlite3
#cp $BUILD/$1*/Lib/sqlite3/*.pyc $PYTHON_LIB_DIR/sqlite3

#mkdir -p $PYTHON_LIB_DIR/wsgiref
#cp $BUILD/$1*/Lib/wsgiref/*.pyc $PYTHON_LIB_DIR/wsgiref

mkdir -p $PYTHON_LIB_DIR/xml/etree
cp $BUILD/$1*/Lib/xml/etree/*.pyc $PYTHON_LIB_DIR/xml/etree